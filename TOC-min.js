javascript:!function(){"use strict";function n(n,t,o=0,e=0){const l=document.createElement("li"),c=(n||"").trim()||(o?"Point":"Section");if(e){l.classList.add("toc-collapse-trigger"),l.innerHTML=`<div class="toc-collapsed-trigger-content 11">\n<span class="toc-toggle" role="button" aria-label="Toggle section">${a}</span>\n<span class="toc-clickable-content" title="${c}">${c}</span>\n</div>`;const n=l.querySelector(".toc-toggle");n.addEventListener("click",(function(t){l.classList.contains("toc-collapsed")?(l.classList.remove("toc-collapsed"),n.innerHTML=a):(l.classList.add("toc-collapsed"),n.innerHTML=s),t.stopPropagation()})),l.querySelector(".toc-clickable-content").addEventListener("click",(function(n){t.classList.remove("toc-highlight"),t.classList.add("toc-highlight"),t.scrollIntoView({behavior:"smooth",block:"start"}),n.stopPropagation()}))}else l.innerHTML=`<div style="width:100%;">\n<span class="toc-clickable-content" title="${c}">${c}</span>\n</div>`,l.querySelector(".toc-clickable-content").addEventListener("click",(function(n){t.classList.remove("toc-highlight"),t.classList.add("toc-highlight"),t.scrollIntoView({behavior:"smooth",block:"start"}),n.stopPropagation()}));return l}function t(n){document.querySelectorAll(".toc-collapse-trigger").forEach((t=>{const o=t.querySelector(".toc-toggle");n?(t.classList.remove("toc-collapsed"),o.innerHTML=a):(t.classList.add("toc-collapsed"),o.innerHTML=s)}))}function o(){const o=document.getElementById("toc-list");if(!o)return;o.innerHTML="";const e=(f||document).querySelectorAll(".relative.group.flex.flex-col.justify-center.w-full.max-w-3xl.md\\:px-4.pb-2.gap-2.items-start"),l=(f||document).querySelectorAll("article[data-testid^='conversation-turn-']");if(0!==e.length||0!==l.length){if(e.length>0){let t=0,l=0;for(let c=0;e.length>c;c++){const i=e[c],r=document.createElement("li");r.classList.add("toc-collapse-trigger");const d=i.querySelectorAll("h3").length>0;let p="";d?(t++,p=`Response ${t}(Grok)`):(l++,p=`Turn ${l}(You)`),r.innerHTML=`\n<div class="toc-collapsed-trigger-content"">\n<span class="toc-toggle" role="button" aria-label="Toggle turn">${a}</span>\n<span class="toc-clickable-content" title="${p}">${p}</span>\n</div>\n `;const u=r.querySelector(".toc-toggle");if(u.addEventListener("click",(function(n){r.classList.contains("toc-collapsed")?(r.classList.remove("toc-collapsed"),u.innerHTML=a):(r.classList.add("toc-collapsed"),u.innerHTML=s),n.stopPropagation()})),r.querySelector(".toc-clickable-content").addEventListener("click",(function(n){i.scrollIntoView({behavior:"smooth",block:"start"}),n.stopPropagation()})),d){const t=document.createElement("ul"),o=i.querySelectorAll("h3");for(let e=0;o.length>e;e++){const l=o[e];let c=0,i=l;for(;i;){if("PRE"===i.tagName||"CODE"===i.tagName){c=1;break}i=i.parentElement}if(c)continue;const s=n(l.textContent,l,0,1),a=document.createElement("ul");let r=l.nextElementSibling,d=0,p=null,u=null;for(;r&&"H3"!==r.tagName;){if("H4"===r.tagName)p=r,u=n(r.textContent,r,1,1),a.appendChild(u),d=1;else if("OL"===r.tagName&&u){const t=document.createElement("ul"),o=r.querySelectorAll("li");for(let e=0;o.length>e;e++){const l=o[e],c=l.querySelector("strong");if(c){const o=n(c.textContent,l,1);t.appendChild(o)}}t.children.length>0&&u.appendChild(t)}else if("P"===r.tagName&&!p){const t=r.querySelectorAll("strong");if(t.length>0){const o=n(t[0].textContent,r,1);a.appendChild(o),d=1}}r=r.nextElementSibling}d&&s.appendChild(a),t.appendChild(s)}t.children.length>0&&r.appendChild(t)}o.appendChild(r)}}else if(l.length>0)for(let t=0;l.length>t;t++){const e=l[t],c=document.createElement("li");c.classList.add("toc-collapse-trigger");const i=e.querySelector("h6.sr-only");let r=0,d="";i&&i.textContent.indexOf("ChatGPT said:")>=0?(r=1,d=`Turn ${t+1}(AI)`):d=`Turn ${t+1}(You)`,c.innerHTML=`\n<div class="toc-collapsed-trigger-content">\n<span class="toc-toggle" role="button" aria-label="Toggle turn">${a}</span>\n<span class="toc-clickable-content" title="${d}">${d}</span>\n</div>\n `;const p=c.querySelector(".toc-toggle");if(p.addEventListener("click",(function(n){c.classList.contains("toc-collapsed")?(c.classList.remove("toc-collapsed"),p.innerHTML=a):(c.classList.add("toc-collapsed"),p.innerHTML=s),n.stopPropagation()})),c.querySelector(".toc-clickable-content").addEventListener("click",(function(n){e.scrollIntoView({behavior:"smooth",block:"start"}),n.stopPropagation()})),r){const t=document.createElement("ul"),o=e.querySelectorAll("h3:not(.sr-only)");for(let e=0;o.length>e;e++){const l=o[e];let c=0,i=l;for(;i;){if("PRE"===i.tagName||"CODE"===i.tagName){c=1;break}i=i.parentElement}if(c)continue;const s=n(l.textContent,l,0,1);t.appendChild(s)}t.children.length>0&&c.appendChild(t)}o.appendChild(c)}document.getElementById("toc-expand-all").addEventListener("click",(function(n){t(1),n.stopPropagation()})),document.getElementById("toc-collapse-all").addEventListener("click",(function(n){t(0),n.stopPropagation()}))}else o.innerHTML='<li style="opacity:0.7;font-style:italic;">Empty chat</li>'}function e(){const n=document.querySelector("main")||null,t=document.querySelector("main#main")||document.querySelector(".chat-container")||null,e=n||t;e!==f&&(f=e,h&&(h.disconnect(),h=null),f&&(h=new MutationObserver((function(){m||(m=1,x=setTimeout((function(){o(),m=0}),300))})),h.observe(f,{childList:1,subtree:1}),o()))}function l(n){if(d.classList.contains("collapsed"))return void c();const t=g+(u-n.clientX);r>t?(d.style.width=r+"px",d.classList.contains("collapsed")||(p.style.right=r+"px")):(d.style.width=t+"px",d.classList.contains("collapsed")||(p.style.right=t+"px"))}function c(){document.documentElement.classList.remove("resize-active"),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c)}if(document.getElementById("toc-panel")||document.getElementById("toc-handle"))return;const i=document.createElement("style");i.textContent='\n/*Panel*/\n #toc-panel{\n position:fixed;\n top:0;\n right:0;\n width:280px;\n height:100%;\n background:#fafafa;\n box-shadow:-4px 0 8px rgba(0,0,0,0.1);\n font-family:sans-serif;\n font-size:0.8rem;\n border-left:1px solid #ddd;\n display:flex;\n flex-direction:column;\n z-index:9998;\n transform:translateX(0);\n transition:transform 0.3s ease,width 0.1s ease;\n}\n #toc-panel.collapsed{\n transform:translateX(100%);\n}\n \n/*Resize handle*/\n #toc-resize-handle{\n position:absolute;\n top:0;\n left:0;\n width:5px;\n height:100%;\n cursor:ew-resize;\n background:transparent;\n z-index:9999;\n}\n #toc-resize-handle:hover{\n background:rgba(0,0,0,0.1);\n}\n .resize-active{\n pointer-events:none;\n}\n .resize-active #toc-resize-handle{\n background:rgba(0,0,0,0.2);\n}\n\n/*Panel Header*/\n #toc-header{\n padding:6px 10px;\n background:#ddd;\n border-bottom:1px solid #ccc;\n font-weight:bold;\n flex-shrink:0;\n display:flex;\n justify-content:space-between;\n align-items:center;\n}\n \n #toc-header-text{\n flex:1;\n}\n \n #toc-expand-all,#toc-collapse-all{\n cursor:pointer;\n padding:0 4px;\n font-size:0.8rem;\n opacity:0.8;\n display:flex;\n align-items:center;\n justify-content:center;\n}\n \n #toc-expand-all:hover,#toc-collapse-all:hover{\n opacity:1;\n}\n \n .toc-icon{\n width:14px;\n height:14px;\n display:inline-block;\n}\n\n/*TOC Items*/\n #toc-list{\n list-style:none;\n flex:1;\n overflow-y:auto;\n margin:0;\n padding:6px;\n}\n #toc-list li{\n padding:4px;\n cursor:pointer;\n border-radius:3px;\n transition:background-color 0.2s;\n white-space:nowrap;\n overflow:hidden;\n text-overflow:ellipsis;\n max-width:100%;\n}\n #toc-list li:hover{\n background:#f0f0f0;\n}\n #toc-list ul{\n margin-left:16px;\n padding:0;\n width:100%;\n}\n #toc-list ul li::before{\n content:"";\n}\n #toc-list ul ul li{\n font-size:0.75rem;\n color:#555;\n}\n \n/*Collapsible items*/\n .toc-toggle{\n display:inline-flex;\n align-items:center;\n justify-content:center;\n width:14px;\n height:14px;\n margin-right:4px;\n cursor:pointer;\n transition:transform 0.2s;\n flex-shrink:0;\n}\n \n .toc-item-content{\n display:inline-block;\n max-width:calc(100%-18px);\n overflow:hidden;\n text-overflow:ellipsis;\n vertical-align:bottom;\n pointer-events:none;\n}\n \n .toc-collapse-trigger{\n cursor:pointer;\n user-select:none;\n flex-direction:row;\n align-items:flex-start;\n}\n\n .toc-collapsed-trigger-content{\n width:100%;\n display:flex;\n align-items:center;\n justify-content:center;\n}\n \n .toc-collapsed>ul{\n display:none;\n}\n \n .toc-clickable-content{\n flex:1;\n cursor:pointer;\n overflow:hidden;\n text-overflow:ellipsis;\n padding-left:2px;\n}\n\n/*Always-visible handle*/\n #toc-handle{\n position:fixed;\n top:50%;\n right:0;\n transform:translateY(-50%);\n width:30px;\n height:80px;\n background:#ccc;\n display:flex;\n align-items:center;\n justify-content:center;\n writing-mode:vertical-rl;\n text-orientation:mixed;\n cursor:pointer;\n font-weight:bold;\n user-select:none;\n z-index:9999;\n transition:background 0.2s;\n}\n #toc-handle:hover{\n background:#bbb;\n}\n\n/*Highlighting headings in the chat*/\n @keyframes highlightFade{\n 0%{background-color:#fffa99}\n 100%{background-color:transparent}\n}\n .toc-highlight{\n animation:highlightFade 1.5s forwards;\n}\n\n/*------Dark Mode Support------*/\n @media(prefers-color-scheme:dark){\n #toc-panel{\n background:#333;\n border-left:1px solid #555;\n box-shadow:-4px 0 8px rgba(0,0,0,0.7);\n}\n #toc-header{\n background:#555;\n border-bottom:1px solid #666;\n color:#eee;\n}\n #toc-list li:hover{\n background:#444;\n}\n #toc-list{\n color:#eee;\n}\n #toc-list ul ul li{\n color:#aaa;\n}\n #toc-handle{\n background:#555;\n color:#ddd;\n}\n #toc-handle:hover{\n background:#666;\n}\n #toc-resize-handle:hover{\n background:rgba(255,255,255,0.1);\n}\n .resize-active #toc-resize-handle{\n background:rgba(255,255,255,0.2);\n}\n}\n ',document.head.appendChild(i);const s='<svg xmlns="http://www.w3.org/2000/svg" class="toc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>',a='<svg xmlns="http://www.w3.org/2000/svg" class="toc-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line></svg>',r=280,d=document.createElement("div");d.id="toc-panel",d.innerHTML=`\n<div id="toc-resize-handle" title="Drag to resize"></div>\n<div id="toc-header">\n<span id="toc-header-text">Conversation TOC</span>\n<span id="toc-expand-all" title="Expand All">${s}</span>\n<span id="toc-collapse-all" title="Collapse All">${a}</span>\n</div>\n<ul id="toc-list"></ul>\n `,document.body.appendChild(d);const p=document.createElement("div");p.id="toc-handle",p.textContent="TOC",document.body.appendChild(p),p.style.right=r+"px";let u,g,f=null,h=null,m=0,x=null;e(),setInterval(e,2e3),document.getElementById("toc-resize-handle").addEventListener("mousedown",(function(n){d.classList.contains("collapsed")||(u=n.clientX,g=parseInt(window.getComputedStyle(d).width,10),document.documentElement.classList.add("resize-active"),document.addEventListener("mousemove",l),document.addEventListener("mouseup",c),n.preventDefault())})),p.addEventListener("click",(function(){const n=d.classList.contains("collapsed");d.classList.toggle("collapsed"),p.style.right=n?parseInt(d.style.width||r,10)+"px":"0"}))}();